<div class="pagination">
    <!-- Rendering "First" link if not on the first page -->
    {% if current_page != 1 %}
        <a href="?page=1">&laquo; First</a>
    {% endif %}

    <!-- Rendering previous two pages -->
    {% for page_num in page_range %}
        {% if page_num >= current_page|add:"-2" and page_num < current_page %}
            <a href="?page={{ page_num }}">{{ page_num }}</a>
        {% endif %}
    {% endfor %}

    <!-- Rendering current page -->
    <a href="?page={{ current_page }}" class="active">{{ current_page }}</a>

    <!-- Rendering next two pages -->
    {% for page_num in page_range %}
        {% if page_num > current_page and page_num <= current_page|add:"2" %}
            <a href="?page={{ page_num }}">{{ page_num }}</a>
        {% endif %}
    {% endfor %}

    <!-- Rendering "Last" link if not on the last page -->
    {% if current_page != paginator.num_pages %}
        <a href="?page={{ paginator.num_pages }}">Last &raquo;</a>
    {% endif %}
</div>





